<!DOCTYPE html>
<html lang="ja" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" th:href="@{/css/store/calendar.min.css}" />
<title>売上データ</title>
</head>
<body>
<div layout:fragment="contents">
	<h2 th:text="${store.name} + の売上">大生の売上</h2>
	
	<h3>期間指定</h3>
	<form class="ui form" th:action="@{/store/salesvolumeForm}" th:object="${selesVolumeForm}" method="POST">
	<div class="two fields">
		<div class="field">
			<label>Start date</label>
			<div class="ui calendar" id="rangestart">
			<div class="ui input left icon">
			<i class="calendar icon"></i>
			<input type="text" th:field="*{startDate}" placeholder="Start">
			</div>
			</div>
		</div>
		<div class="field">
			<label>End date</label>
			<div class="ui calendar" id="rangeend">
			<div class="ui input left icon">
			<i class="calendar icon"></i>
			<input type="text" th:field="*{endDate}" placeholder="End">
			</div>
			</div>
		</div>
	</div>
	<button class="ui green basic button" type="submit">更新</button>
	<div th:if="${param.error}" >
	<br>
	<div class="ui negative icon message">
		<i class="warning sign icon"></i>
		<div class="content">
			<div class="header">
			無効な入力です．
			</div>
			<p>入力情報が正しくありません．</p>
			</div>
			</div>
	</div>
	</form>
	<table class="ui green table">
		<tr>
			<th>商品名</th>
			<th>カテゴリ名</th>
			<th>価格</th>
			<th>個数</th>
			<th>購入日</th>
		</tr>
		<tr th:each="salesVolumes : ${salesVolumes}">
			<td th:text="${salesVolumes.product.Name}"></td>
			<td th:text="${salesVolumes.product.category.Name}"></td>
			<td th:text="${#numbers.formatInteger(salesVolumes.product.Price,3,'POINT')}"></td>
			<td th:text="${salesVolumes.purchaseHistoryDetail.Quantity}"></td>
			<td th:text="${#temporals.format(salesVolumes.purchaseHistory.CreatedAt, 'yyyy年MM月dd日')}"></td>
		</tr>
	</table>
<!-- javascript -->
<script th:src="@{/js/store/calendar.min.js}"></script>
<script th:src="@{/js/store/datetimesetting.js}"></script>
</div>
</body>
</html>