<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
<title>greenpay</title>
</head>
<body>
	<div>
		<table>
			<tr>
				<th>ID</th>
				<th>商品名</th>
				<th>店舗ID</th>
				<th>カテゴリーID</th>
				<th>単価</th>
				<th>状態</th>
				<th>登録日時</th>
				<th>更新日時</th>
				<th>編集</th>
				<th>削除</th>
			</tr>

			<tr th:each="product : ${products}">
				<td th:text="${product.id}"/>
				<td th:text="${product.name}"/>
				<td th:text="${product.storeId}"/>
				<td th:text="${product.category.name}"/>
				<td th:text="${product.price}"/>
				<td th:switch="${product.activated}">
				    <th:block th:case="2">有効</th:block>
				    <th:block th:case="1">現在取り扱いなし</th:block>
				    <th:block th:case="0">無効</th:block>
				</td>
				<td th:text="${product.createdAt}"/>
				<td th:text="${product.updatedAt}"/>
				<td th:if="${product.storeId == store.id}">
					<form th:action="@{/store/product/update}" method="get">
						<input type="hidden" name="id" th:value="${product.id}"/>
						<input type="submit" value="編集"/>
					</form>
				</td>
				<td th:if="${product.storeId == store.id}">
					<form th:action="@{/store/product/delete}" method="post">
						<input type="hidden" name="id" th:value="${product.id}"/>
						<input type="submit" value="削除"/>
					</form>
				</td>
			</tr>
		</table>

		<div>
			<form th:action="@{/store/product/create}" method="get">
				<input type="submit" value="登録"/>
			</form>
		</div>
	</div>
</body>
</html>